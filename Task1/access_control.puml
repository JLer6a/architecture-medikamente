@startuml

actor "–ü–∞—Ü–∏–µ–Ω—Ç" as Patient
actor "–°–æ—Ç—Ä—É–¥–Ω–∏–∫" as Staff
rectangle "–ü–æ—Ä—Ç–∞–ª" as Portal
database "–ò–° –ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç–µ" as MIS
cloud "–°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏" as Auth
database "–ñ—É—Ä–Ω–∞–ª –¥–æ—Å—Ç—É–ø–∞" as AuditLog

Patient --> Portal : –≤—Ö–æ–¥ –≤ –õ–ö
Staff --> Portal : –≤—Ö–æ–¥ –≤ —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ

Portal --> Auth : –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–Ω–∞/–ø–∞—Ä–æ–ª—è
Auth --> Portal : —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ (JWT)

Portal --> MIS : –∑–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–∞
Portal --> AuditLog : –∑–∞–ø–∏—Å—å –¥–µ–π—Å—Ç–≤–∏—è

note "RBAC (–°–æ—Ç—Ä—É–¥–Ω–∏–∫):\n- –î–æ—Å—Ç—É–ø –ø–æ —Ä–æ–ª—è–º (—Ä–µ—Å–µ–ø—à–µ–Ω, –≤—Ä–∞—á, –∫–∞—Å—Å–∏—Ä)\n- –¢–æ–ª—å–∫–æ —Å–≤–æ–∏ —Ñ—É–Ω–∫—Ü–∏–∏\n- –ü—Ä–∏–º–µ—Ä: –≤—Ä–∞—á –≤–∏–¥–∏—Ç –º–µ–¥–∫–∞—Ä—Ç—É, –Ω–æ –Ω–µ —Ñ–∏–Ω–∞–Ω—Å—ã" as N1

note "ABAC (–ü–∞—Ü–∏–µ–Ω—Ç):\n- –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –¥–∞–Ω–Ω—ã–º\n- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ ID –ø–∞—Ü–∏–µ–Ω—Ç–∞\n- –ó–∞–ø—Ä–µ—â—ë–Ω –ø—Ä–æ—Å–º–æ—Ç—Ä —á—É–∂–∏—Ö –∑–∞–ø–∏—Å–µ–π" as N2

note "–ê—É–¥–∏—Ç:\n- –ó–∞–ø–∏—Å—å –∑–∞–ø—Ä–æ—Å–∞ –≤ –∂—É—Ä–Ω–∞–ª\n- –ê–Ω–æ–º–∞–ª–∏–∏ = –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ\n- –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: '—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ'" as N3

MIS .. N1
Portal .. N2
AuditLog .. N3

legend right
üìå –ö—Ä–∞—Ç–∫–∏–π —Ä–∞–∑–±–æ—Ä:
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç	    –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
Auth	                    –°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å Keycloak, Auth0, Spring Security + JWT)
MIS	                    –•—Ä–∞–Ω–µ–Ω–∏–µ PII/PHI ‚Äî —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ –¥–æ—Å—Ç—É–ø—É
AuditLog	            –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞—É–¥–∏—Ç –¥–æ—Å—Ç—É–ø–∞
RBAC / ABAC	    –ì–∏–±–∫–∞—è —Å—Ö–µ–º–∞ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ä–æ–ª—è–º/–∞—Ç—Ä–∏–±—É—Ç–∞–º
endlegend

@enduml
