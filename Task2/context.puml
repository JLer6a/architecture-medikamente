@startuml

actor "–ü–∞—Ü–∏–µ–Ω—Ç" as Patient
actor "–°–æ—Ç—Ä—É–¥–Ω–∏–∫" as Staff
actor "–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è" as Lab

rectangle "–ü–æ—Ä—Ç–∞–ª" as Portal
cloud "API-—à–ª—é–∑" as Gateway
cloud "–°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (IAM)" as Auth
database "–ò–° –ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç–µ" as MIS
rectangle "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å" as Finance
database "–ñ—É—Ä–Ω–∞–ª –¥–æ—Å—Ç—É–ø–∞ –∏ –¥–µ–π—Å—Ç–≤–∏–π" as AuditLog
cloud "–•—Ä–∞–Ω–∏–ª–∏—â–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (Data Lake)" as Analytics
rectangle "–°–µ—Ä–≤–∏—Å —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö" as Tagging

Patient --> Portal : –¥–æ—Å—Ç—É–ø –∫ –õ–ö, –∑–∞–ø–∏—Å—å, –∞–Ω–∞–ª–∏–∑—ã
Staff --> Portal : —Ä–∞–±–æ—Ç–∞ —Å –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏ –∏ –∑–∞–ø–∏—Å—è–º–∏
Lab --> Gateway : –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, –ø–µ—Ä–µ–¥–∞—á–∞ –∞–Ω–∞–ª–∏–∑–æ–≤

Portal --> Gateway : –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ API
Gateway --> Auth : –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –∏ —Ä–æ–ª–µ–π
Auth --> Gateway : access token (JWT / OIDC)

Gateway --> MIS : –¥–æ—Å—Ç—É–ø –∫ –º–µ–¥–¥–∞–Ω–Ω—ã–º (PHI / PII)
Gateway --> Finance : –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ–ø–ª–∞—Ç–∞
Gateway --> AuditLog : –∑–∞–ø–∏—Å—å –¥–µ–π—Å—Ç–≤–∏–π
Gateway --> Tagging : –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–≥–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
MIS --> Tagging : –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (PHI / PII)
Gateway --> Analytics : –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è BI

note "RBAC / ABAC (–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏):\n- –ü–æ —Ä–æ–ª—è–º –∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º (–≤—Ä–∞—á, –∫–∞—Å—Å–∏—Ä)\n- –¢–æ–ª—å–∫–æ –ø–æ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–º —Ç–µ–≥–∞–º" as N1
note "Privacy –¥–ª—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤:\n- –¢–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ\n- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ ID, PII, PHI" as N2
note "–ê—É–¥–∏—Ç –∏ –∞–ª–µ—Ä—Ç—ã:\n- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è\n- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–Ω–æ–º–∞–ª–∏–∏\n- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SIEM / Telegram" as N3

MIS .. N1
Portal .. N2
AuditLog .. N3

legend right
üìå –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:
Auth         –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (Keycloak, Auth0, Spring Security)
Gateway      API-—à–ª—é–∑, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω—ã –∏ –¥–æ—Å—Ç—É–ø
MIS          –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (PII, PHI)
AuditLog     –ê—É–¥–∏—Ç –∏ –∂—É—Ä–Ω–∞–ª –¥–æ—Å—Ç—É–ø–∞
Tagging      –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ç–∏–ø—É: PHI, PII, FIN
Analytics    Data Lake, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, BI
endlegend

@enduml
